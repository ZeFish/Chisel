/* ============================================= */
/* Vertical Flow */
/* ============================================= */
.vertical-rhythm {
    --table-margin: auto;
    --table-cell-padding: 0.5rlh 0.5rlh;
    --table-edge-cell-padding-first: 0.5rlh;
    --nav-item-padding: var(--size-2-1) var(--size-4-2) var(--size-2-1)
        var(--size-4-6);

    .nav-file-title-content,
    .nav-folder-title-content {
        line-height: 1.5em;
    }
    table {
        margin-left: var(--table-margin);
        margin-right: var(--table-margin);
    }
    p,
    .cm-line {
        line-height: var(--line-height-normal);
        margin-top: 0rlh;
        margin-bottom: 1rlh;
        padding: 0;
        margin-block-start: 0;
    }

    &.img-grid .markdown-preview-section > div.el-p:has(.image-embed) {
        margin: 2rlh 0;
    }
    &.img-grid
        .markdown-preview-section
        > div.el-p:has(.image-embed)
        + div.el-p:has(.image-embed) {
        margin-top: -1.75rlh;
    }

    .view-content .callout,
    .view-content blockquote,
    .view-content pre {
        margin: 2rlh;
    }

    .markdown-source-view.mod-cm6 .callout {
        margin: 2rlh;
    }
    /*
    .view-content:not(:has(callout-content))
        .markdown-source-view
        > div:has(.image-embed)
        > p,
    .view-content:not(:has(callout-content))
        .markdown-source-view
        p:has(> .image-embed ~ .image-embed) {
        margin-top: 2rlh;
        margin-bottom: 2rlh;
    }

    .view-content:not(:has(callout-content))
        .markdown-source-view
        > div:has(.image-embed)
        + div:has(.image-embed)
        > p {
        margin-top: calc(-2rlh + var(--img-grid-gap));
    }
*/

    .callout-content,
    blockquote {
        font-size: var(--font-small);
        line-height: var(--line-height-tight);
    }
    .callout-content > p:last-of-type {
        margin: 0;
    }
    .callout-content > ul {
        margin: 0rlh 0 0 0;
        padding: 0 0 0 1rlh;
    }

    .markdown-source-view hr,
    .markdown-reading-view hr {
        margin: 2rlh 8rlh;
    }

    .popover .markdown-embed-content,
    .markdown-embed-content,
    .popover .markdown-embed-title,
    .markdown-embed-title {
        padding: 1rlh !important;
    }

    /*
   .markdown-reading-view,  .markdown-source-view {
	  padding:0 !important;
	  margin:2rlh;
  }
  */

    ul,
    ol {
        padding: 0rlh 2rlh;
        margin: 1rlh 0rlh;
    }
    .el-h1 + .el-ul ul,
    .el-h2 + .el-ul ul,
    .el-h3 + .el-ul ul,
    .el-h4 + .el-ul ul,
    .el-h5 + .el-ul ul,
    .el-h6 + .el-ul ul,
    .el-h1 + .el-ol ol,
    .el-h2 + .el-ol ol,
    .el-h3 + .el-ol ol,
    .el-h4 + .el-ol ol,
    .el-h5 + .el-ol ol,
    .el-h6 + .el-ol ol {
        margin-top: 0.25rlh;
    }

    .markdown-preview-view ol > li,
    .markdown-preview-view ul > li,
    .markdown-source-view ol > li,
    .markdown-source-view ul > li,
    .mod-cm6 .HyperMD-list-line.cm-line {
        margin: 0rlh;
    }

    .markdown-preview-view ol > li:not(:first-child),
    .markdown-preview-view ul > li:not(:first-child),
    .markdown-source-view ol > li:not(:first-child),
    .markdown-source-view ul > li:not(:first-child),
    .mod-cm6 .HyperMD-list-line.cm-line:not(:first-child) {
        margin-top: 0.5rlh;
    }

    .inline-title {
        margin-top: 4rlh;
        margin-bottom: 4rlh;
        padding: 0;
        line-height: 0.8em;
        overflow: hidden;
        text-overflow: ellipsis;
        overflow-wrap: break-word;
        hyphens: auto;
        display: -webkit-box;
        -webkit-box-orient: vertical;
    }

    /*  .HyperMD-header-1.cm-line */
    .markdown-reading-view div div h1 {
        margin-top: 8rlh;
        margin-bottom: 3rlh;
        padding: 0;
    }

    /*  .HyperMD-header-2.cm-line  */
    .markdown-reading-view div div h2 {
        margin-top: 6rlh;
        margin-bottom: 2rlh;
        padding: 0;
    }
    /*  .HyperMD-header-3.cm-line
is commented because is bugged the ability to select text
*/
    .markdown-reading-view div div h3 {
        margin-top: 4rlh;
        margin-bottom: 2rlh;
        padding: 0;
    }
    /*  .HyperMD-header-1.cm-line + .HyperMD-header-2.cm-line */
    .markdown-reading-view div.el-h1 + div.el-h2 h2 {
        margin-top: 1rlh;
    }
    /*  .HyperMD-header-2.cm-line + .HyperMD-header-3.cm-line  */
    .markdown-reading-view div.el-h2 + div.el-h3 h3 {
        margin-top: 4rlh;
    }

    /*  .HyperMD-header-2.cm-line + .HyperMD-header-3.cm-line  */
    .markdown-reading-view div.el-h3 + div.el-h4 h4 {
        margin-top: 0rlh;
    }

    /*  .HyperMD-header-4.cm-line */
    .markdown-reading-view div div h4 {
        margin-top: 4rlh;
        margin-bottom: 1rlh;
        padding: 0;
    }

    /*  .HyperMD-header-2.cm-line + .HyperMD-header-3.cm-line  */
    .markdown-reading-view div.el-h4 + div.el-h5 h5 {
        margin-top: 0rlh;
    }

    /*  .HyperMD-header-5.cm-line */
    .markdown-reading-view div div h5 {
        margin-top: 2rlh;
        margin-bottom: 1rlh;
        padding: 0;
    }

    /*  .HyperMD-header-6.cm-line  */
    .markdown-reading-view div div h6 {
        margin-top: 2rlh;
        margin-bottom: 0rlh;
        padding: 0;
    }

    .markdown-reading-view div.el-h6 + div blockquote {
        margin-top: 1rlh;
    }
}

@media only screen and (max-width: 600px) {
    .vertical-rhythm .callout,
    .vertical-rhythm blockquote,
    .vertical-rhythm pre {
        margin: 2rlh 0rlh !important;
    }
    .vertical-rhythm .inline-title {
        margin-bottom: 3rlh;
        margin-top: 1rlh;
    }
    .vertical-rhythm .markdown-source-view .inline-title {
        margin-bottom: 1rlh;
    }
    .vertical-rhythm ul,
    .vertical-rhythm ol,
    .vertical-rhythm .callout-content ul,
    .vertical-rhythm .callout-content ol {
        padding: 0rlh 0rlh 0rlh 0.5rlh;
    }
    .vertical-rhythm .markdown-source-view hr,
    .vertical-rhythm .markdown-reading-view hr {
        margin: 2rlh 25% !important;
    }
}

@media only screen and (min-width: 900px) {
    .vertical-rhythm .inline-title {
        margin-top: 8rlh;
    }
}

/* Preview mode (reading view) */
.vertical-rhythm .markdown-reading-view h1 + h1,
.vertical-rhythm .markdown-reading-view h1 + h2,
.vertical-rhythm .markdown-reading-view h1 + h3,
.vertical-rhythm .markdown-reading-view h1 + h4,
.vertical-rhythm .markdown-reading-view h1 + h5,
.vertical-rhythm .markdown-reading-view h1 + h6,
.vertical-rhythm .markdown-reading-view h2 + h1,
.vertical-rhythm .markdown-reading-view h2 + h2,
.vertical-rhythm .markdown-reading-view h2 + h3,
.vertical-rhythm .markdown-reading-view h2 + h4,
.vertical-rhythm .markdown-reading-view h2 + h5,
.vertical-rhythm .markdown-reading-view h2 + h6,
.vertical-rhythm .markdown-reading-view h3 + h1,
.vertical-rhythm .markdown-reading-view h3 + h2,
.vertical-rhythm .markdown-reading-view h3 + h3,
.vertical-rhythm .markdown-reading-view h3 + h4,
.vertical-rhythm .markdown-reading-view h3 + h5,
.vertical-rhythm .markdown-reading-view h3 + h6,
.vertical-rhythm .markdown-reading-view h4 + h1,
.vertical-rhythm .markdown-reading-view h4 + h2,
.vertical-rhythm .markdown-reading-view h4 + h3,
.vertical-rhythm .markdown-reading-view h4 + h4,
.vertical-rhythm .markdown-reading-view h4 + h5,
.vertical-rhythm .markdown-reading-view h4 + h6,
.vertical-rhythm .markdown-reading-view h5 + h1,
.vertical-rhythm .markdown-reading-view h5 + h2,
.vertical-rhythm .markdown-reading-view h5 + h3,
.vertical-rhythm .markdown-reading-view h5 + h4,
.vertical-rhythm .markdown-reading-view h5 + h5,
.vertical-rhythm .markdown-reading-view h5 + h6,
.vertical-rhythm .markdown-reading-view h6 + h1,
.vertical-rhythm .markdown-reading-view h6 + h2,
.vertical-rhythm .markdown-reading-view h6 + h3,
.vertical-rhythm .markdown-reading-view h6 + h4,
.vertical-rhythm .markdown-reading-view h6 + h5,
.vertical-rhythm .markdown-reading-view h6 + h6,

/* Editor mode */
.vertical-rhythm .HyperMD-header-1.cm-line + .HyperMD-header-1.cm-line,
.vertical-rhythm .HyperMD-header-1.cm-line + .HyperMD-header-2.cm-line,
.vertical-rhythm .HyperMD-header-1.cm-line + .HyperMD-header-3.cm-line,
.vertical-rhythm .HyperMD-header-1.cm-line + .HyperMD-header-4.cm-line,
.vertical-rhythm .HyperMD-header-1.cm-line + .HyperMD-header-5.cm-line,
.vertical-rhythm .HyperMD-header-1.cm-line + .HyperMD-header-6.cm-line,
.vertical-rhythm .HyperMD-header-2.cm-line + .HyperMD-header-1.cm-line,
.vertical-rhythm .HyperMD-header-2.cm-line + .HyperMD-header-2.cm-line,
.vertical-rhythm .HyperMD-header-2.cm-line + .HyperMD-header-3.cm-line,
.vertical-rhythm .HyperMD-header-2.cm-line + .HyperMD-header-4.cm-line,
.vertical-rhythm .HyperMD-header-2.cm-line + .HyperMD-header-5.cm-line,
.vertical-rhythm .HyperMD-header-2.cm-line + .HyperMD-header-6.cm-line,
.vertical-rhythm .HyperMD-header-3.cm-line + .HyperMD-header-1.cm-line,
.vertical-rhythm .HyperMD-header-3.cm-line + .HyperMD-header-2.cm-line,
.vertical-rhythm .HyperMD-header-3.cm-line + .HyperMD-header-3.cm-line,
.vertical-rhythm .HyperMD-header-3.cm-line + .HyperMD-header-4.cm-line,
.vertical-rhythm .HyperMD-header-3.cm-line + .HyperMD-header-5.cm-line,
.vertical-rhythm .HyperMD-header-3.cm-line + .HyperMD-header-6.cm-line,
.vertical-rhythm .HyperMD-header-4.cm-line + .HyperMD-header-1.cm-line,
.vertical-rhythm .HyperMD-header-4.cm-line + .HyperMD-header-2.cm-line,
.vertical-rhythm .HyperMD-header-4.cm-line + .HyperMD-header-3.cm-line,
.vertical-rhythm .HyperMD-header-4.cm-line + .HyperMD-header-4.cm-line,
.vertical-rhythm .HyperMD-header-4.cm-line + .HyperMD-header-5.cm-line,
.vertical-rhythm .HyperMD-header-4.cm-line + .HyperMD-header-6.cm-line,
.vertical-rhythm .HyperMD-header-5.cm-line + .HyperMD-header-1.cm-line,
.vertical-rhythm .HyperMD-header-5.cm-line + .HyperMD-header-2.cm-line,
.vertical-rhythm .HyperMD-header-5.cm-line + .HyperMD-header-3.cm-line,
.vertical-rhythm .HyperMD-header-5.cm-line + .HyperMD-header-4.cm-line,
.vertical-rhythm .HyperMD-header-5.cm-line + .HyperMD-header-5.cm-line,
.vertical-rhythm .HyperMD-header-5.cm-line + .HyperMD-header-6.cm-line,
.vertical-rhythm .HyperMD-header-6.cm-line + .HyperMD-header-1.cm-line,
.vertical-rhythm .HyperMD-header-6.cm-line + .HyperMD-header-2.cm-line,
.vertical-rhythm .HyperMD-header-6.cm-line + .HyperMD-header-3.cm-line,
.vertical-rhythm .HyperMD-header-6.cm-line + .HyperMD-header-4.cm-line,
.vertical-rhythm .HyperMD-header-6.cm-line + .HyperMD-header-5.cm-line,
.vertical-rhythm .HyperMD-header-6.cm-line + .HyperMD-header-6.cm-line {
    margin-top: 0rlh;
}

/* Preview mode */
.vertical-rhythm .markdown-reading-view h1 + h2,
.vertical-rhythm .markdown-reading-view h1 + h3,
.vertical-rhythm .markdown-reading-view h1 + h4,
.vertical-rhythm .markdown-reading-view h1 + h5,
.vertical-rhythm .markdown-reading-view h1 + h6,

/* Editor mode */
.vertical-rhythm .HyperMD-header-1.cm-line + .HyperMD-header-2.cm-line,
.vertical-rhythm .HyperMD-header-1.cm-line + .HyperMD-header-3.cm-line,
.vertical-rhythm .HyperMD-header-1.cm-line + .HyperMD-header-4.cm-line,
.vertical-rhythm .HyperMD-header-1.cm-line + .HyperMD-header-5.cm-line,
.vertical-rhythm .HyperMD-header-1.cm-line + .HyperMD-header-6.cm-line {
    margin-top: 2rlh;
}
