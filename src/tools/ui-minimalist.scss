:root {
    --blur: 2px;
}
.workspace-leaf-content[data-mode="source"] .view-header .view-header-title,
.is-focused
    .workspace-leaf-content[data-mode="source"]
    .view-header
    .view-header-title {
    display: none;
}
.minimalist.chisel-color:has(
        .mod-root .workspace-leaf-content[data-mode="preview"]
    ) {
    --border-width: 0;
    --shadow-color: color-mix(
        in srgb,
        var(--foreground-color) 12%,
        var(--background-secondary)
    );
    --ribbon-width: 0px;

    .workspace-ribbon {
        display: none;
    }
}
.minimalist.chisel-color:not(.is-mobile)
    .mod-root
    .workspace-leaf-content[data-mode="preview"]
    .workspace-ribbon {
    display: none;
}

.minimalist.chisel-color.theme-dark
    :has(.mod-root .workspace-leaf-content[data-mode="preview"]) {
    --shadow-color: color-mix(in srgb, black 12%, var(--background-secondary));
}

.minimalist.chisel-color
    .mod-root:has(.workspace-leaf-content[data-mode="preview"]) {
    box-shadow: 0 0 0.5rlh var(--shadow-color);
    z-index: 1;
}

.minimalist
    .mod-root:has(.workspace-leaf-content[data-mode="preview"])
    .workspace-tab-header-container {
    display: none;
}
.minimalist
    .workspace-leaf-content[data-mode="preview"]
    .view-header
    .clickable-icon:has(.lucide-edit-3) {
    display: flex;
}

.is-mobile
    .workspace-leaf-content[data-mode="preview"]
    .view-header
    .view-header-title,
.is-mobile .workspace-leaf-content[data-mode="preview"] .view-header-left,
.is-mobile.is-focused
    .workspace-leaf-content[data-mode="preview"]
    .view-header
    .view-header-title,
.is-mobile.is-focused
    .workspace-leaf-content[data-mode="preview"]
    .view-header-left {
    display: none;
}

.minimalist.is-mobile:not(.floating-button-off):not(.advanced-toolbar)
    .view-action:nth-last-of-type(2),
.minimalist.is-mobile:not(.floating-button-off):not(.advanced-toolbar)
    .view-action:nth-last-of-type(2) {
    background-color: transparent;
    backdrop-filter: blur(2px);
    opacity: 1;
    top: calc(90vh - 110px);
    display: flex;
    padding: 5px;
    position: fixed;
    left: 86vw;
    transform: translate(-40%, 5%);
    justify-content: center;
    align-items: center;
    width: 53px;
    height: 53px;
    border-radius: 50% !important;
}

.minimalist
    .app-container:has(
        .workspace-leaf .workspace-leaf-content[data-mode="preview"]
    )
    .status-bar {
    display: none !important;
}

.minimalist
    .workspace:not(.is-left-sidedock-open)
    .workspace-leaf-content[data-mode="preview"]
    .view-header-left {
    margin-left: 70px;
}

.minimalist div.status-bar {
    background-color: color-mix(
        in srgb,
        var(--background-secondary) 50%,
        transparent
    );
    backdrop-filter: blur(calc(var(--blur) * 1));
    -webkit-mask-image: linear-gradient(
        to bottom,
        rgba(0, 0, 0, 0.5),
        rgba(0, 0, 0, 1),
        rgba(0, 0, 0, 0.5)
    );
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 100% 100%;

    mask-image: linear-gradient(
        to bottom,
        rgba(0, 0, 0, 0.5),
        rgba(0, 0, 0, 1),
        rgba(0, 0, 0, 0.5)
    );
    mask-repeat: no-repeat;
    mask-size: 100% 100%;
}
.minimalist div.status-bar:hover {
    backdrop-filter: blur(calc(var(--blur) * 3));
    -webkit-mask-image: none;
    mask-image: none;
}

.minimalist
    .workspace-leaf-content[data-mode="preview"]
    .view-header-title-parent,
.minimalist .workspace-leaf-content[data-mode="preview"] .view-header-title,
.minimalist .workspace-leaf-content[data-mode="preview"] .cmdr-page-header {
    display: none;
}
.minimalist:not(.is-mobile)
    .workspace-leaf-content[data-mode="preview"]
    .view-header-left,
.minimalist:not(.is-mobile)
    .workspace-leaf-content[data-mode="preview"]
    .view-actions {
    opacity: 0.25;
}
.minimalist:not(.is-mobile) .view-header {
    margin-bottom: calc(-1 * var(--header-height));
    background-color: color-mix(
        in srgb,
        var(--background-primary) 0%,
        transparent
    ) !important;
    /*
    backdrop-filter: blur(calc(var(--blur) * 1));
    */
    -webkit-mask-image: linear-gradient(
        to bottom,
        rgba(0, 0, 0, 1),
        rgba(0, 0, 0, 1),
        rgba(0, 0, 0, 1),
        rgba(0, 0, 0, 0.8),
        rgba(0, 0, 0, 0.1)
    );
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 100% 100%;

    mask-image: linear-gradient(
        to bottom,
        rgba(0, 0, 0, 1),
        rgba(0, 0, 0, 1),
        rgba(0, 0, 0, 1),
        rgba(0, 0, 0, 0.8),
        rgba(0, 0, 0, 0.1)
    );
    mask-repeat: no-repeat;
    mask-size: 100% 100%;
}
.minimalist:not(.is-mobile) .view-header:hover .view-header-left,
.minimalist:not(.is-mobile) .view-header:hover .view-actions {
    opacity: 1;
}
.minimalist:not(.is-mobile) .view-header:hover {
    background-color: color-mix(
        in srgb,
        var(--background-primary) 35%,
        transparent
    ) !important;
    /*
    backdrop-filter: blur(calc(var(--blur) * 3));
    */
    -webkit-mask-image: none;
    mask-image: none;
    border-bottom: var(--border-width) solid var(--background-secondary);
}
.minimalist.is-mobile
    .workspace-leaf-content[data-mode="preview"]
    .view-header {
    margin-bottom: calc(-1 * var(--view-header-height));
    background: transparent !important;
}

.minimalist.is-mobile:has(.workspace-leaf-content[data-mode="preview"])
    .mod-left-split-toggle {
    display: none;
}
.minimalist.is-mobile:has(.workspace-leaf-content[data-mode="preview"])
    .mobile-navbar {
    display: none;
}
